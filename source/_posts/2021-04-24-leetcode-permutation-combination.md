---
title: leetcode-permutation-combination
date: 2021-04-24 20:53:34
tags:
---

>   用于记录leetcode刷题中遇到的排序与组合问题的解法



首先给出排列组合问题的定义，排列组合是组合学最基本的概念。所谓**排列**，就是指从给定个数的元素中取出指定个数的元素进行排列。**组合**则是指从给定个数的元素中仅仅取出指定个数的元素，不考虑这些元素间的排列顺序





>   目前在leetcode中，排列组合题目的难点是对于重复元素的处理，接下来进行详细的总结

## 组合问题

### 不包含重复数字的组合问题

>   给定两个整数 *n* 和 *k*，返回 1 ... *n* 中所有可能的 *k* 个数的组合。详见 [leetcode77](https://leetcode-cn.com/problems/combinations/)

一般采用 **递归+回溯** 的方法，标准模板如下：

```c++
vector<int> temp;
void dfs(int cur, int n) {
    // 记录合法的答案
    if (temp.size() == k) {
        ans.push_back(temp);
        return;
    }
    // cur == n + 1 的时候结束递归
    if (cur == n + 1) {
        return;
    }
    // 考虑选择当前位置
    temp.push_back(cur);
    dfs(cur + 1, n, k);
    temp.pop_back();
    // 考虑不选择当前位置
    dfs(cur + 1, n, k);
}
```



### 包含有限个重复数字

>   给定一个数组 `candidates` 和一个目标数 `target` ，找出 `candidates` 中所有可以使数字和为 `target` 的组合。`candidates` 中包含有重复的数字，但是其中每个数字在每个组合中只能使用一次。详见 [leetcode40](https://leetcode-cn.com/problems/combination-sum-ii/)

难点在于：备选序列包含有重复的数字，但是最后的答案中不能含有相同的组合序列

举个例子：

```tiki wiki
输入: candidates = [10,1,2,7,6,1,5], target = 8,
所求解集为:
[
  [1, 7],
  [1, 2, 5],
  [2, 6],
  [1, 1, 6]
]
```

由于含有两个1，因此按照之前的方法，我们可能在最终答案中包含\[1, 7\]，\[7, 1\]两个组合序列， 这个是不符合题目要求的。

我们的改进方法是：**将相同的数放在一起进行处理**，也就是说，如果数 x 出现了 y 次，那么在递归时一次性地处理它们，即分别调用选择 0, 1,⋯ y 次 x 的递归函数。这样我们就不会得到重复的组合。

具体做法是：对于序列\[10,1,2,7,6,1,5\]，我们先统计每个元素出现的次数，即：{1:2，2:1，5:1，6:1， 7:1，10:1 }；在进行 **递归+回溯** 时，我们需要处理的序列是\[1, 2, 5, 6, 7, 10\]，此时已经不再包含重复的元素



### 包含无限个重复的数字





## 排序问题

>   排列问题的定义为：

